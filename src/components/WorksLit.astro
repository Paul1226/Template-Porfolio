---
import Arrow from "../../public/icons/Arrow.astro";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<li class="cursor-pointer relative">
    <a
        class="flex flex-col p-2 bg-smoke-700 rounded-xl border border-smoke-600 link-work h-[54px] overflow-hidden 2xl:pointer-events-none 2xl:overflow-visible"
        style="transition: height 0.3s ease-in-out"
        href="#"
    >
        <div class="flex justify-between items-center w-full h-full">
            <div class="flex items-center gap-2">
                <figure class="w-9 h-9 p-2 rounded-[10px] bg-smoke-500">
                    <slot name="icon" />
                </figure>
                <span class="text-neutral-400 font-semibold">{title} </span>
            </div>

            <figure class="w-9 h-9 p-2 rounded-[10px] bg-smoke-500 2xl:hidden">
                <Arrow class="w-full fill-central-200 rotate-90 transition-transform duration-500 ease-in-out" />
            </figure>
        </div>

        <p
            class="bg-smoke-900 p-2 mt-2 rounded-lg border border-smoke-700 text-neutral-500 font-semibold transition-all duration-300 ease-in-out scale-0 parrafo 2xl:absolute 2xl:top-[-0.6rem] 2xl:right-[calc(100%+0.75rem)] 2xl:z-30 2xl:bg-smoke-700 2xl:w-[250px] 2xl:shadow-[0_0_15px_#35353540]"
        >
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio,
            necessitatibus!
        </p>
    </a>
</li>

<style>
    .link-work.active{
        height: 120px;

        & svg {
            transform: rotate(-90deg);
        }

        & .parrafo {
            transform: scale(1);
        }
    }

    @media screen and (min-width: 1440px) {
        li{
            .parrafo {
                transition: transform 0.1s ease-in-out;
                transform: scale(0);
            }
        }    
        li:hover {
            .parrafo {
                transform: scale(1);
            }
        }
    }
    
</style>

<script>
    const links = document.querySelectorAll(".link-work") as NodeListOf<HTMLElement>
    links.forEach(link => {
        link.addEventListener('click', (e)=> {
            e.preventDefault()
            link?.classList.toggle('active')
        })
    })
</script>